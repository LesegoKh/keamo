<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill Splitter</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
      
          body {
            font-family: 'Roboto', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background:none;
            transition: background 0.3s;
          }
      
          .navbar-top {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            color: white;
          }
      
          .navbar-top .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
          }
      
          .profile-menu {
            position: relative;
          }
      
          .profile-icon {
            width: 80px;
            height: 40px;
            border-radius: 35px;
            background: #007bff;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
          }
 

.profile-menu:hover .dropdown {
  display: block;
}
            .logo img {
              width: 75px;
              height: 55px;
              border-radius: 50%;
              background: #9333ea;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;
              font-weight: bold;
              cursor: pointer;
            }
            footer {
              width: 100vw;
              background:rgba(0, 0, 0, 0.8) ;
              color: #fff;
            }
      
          .navbar-bottom {
            z-index: 1000;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            height: 65px;
            background: #007bff;
            border-radius: 40px 40px 0 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0px -3px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease-in-out;
          }
      
          .navbar-bottom a {
            color: white;
            text-decoration: none;
            font-weight: bold;
          }
      
          .navbar-bottom a:hover {
            color: #ffcc00;
          }
          .navbar-bottom a.active {
            background-color: #ffcc00;
            color: black;
            border-radius: 5px;
            padding: 5px 10px;
          }
          .chart-container {
            max-width: 600px;
            margin: 20px auto;
          }
          .table-container {
            max-width: 800px;
            margin: 20px auto;
          }
          .ticker {
            font-size: 1.5rem;
            font-weight: bold;
            color: #007bff;
          }
          .glass-container .container {
            margin-top: 120px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
          }
      
          h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
          }
      
          form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            text-align: left;
          }
      
          label {
            font-weight: bold;
          }
      
          input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
          }
      
          button {
            padding: 10px;
            border: none;
            background: #007bff;
            color: white;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
          }
          .glass-container {
            margin-top: 120px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
          }
      
          button:hover {
            background: #0056b3;
          }
      
          .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 1rem;
          }
      
          .time-slot {
            padding: 10px;
            background: #007bff;
            color: white;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
          }
      
          .time-slot.selected {
            background: #ffcc00;
            color: black;
          }
      
          .time-slot:hover {
            background: #0056b3;
          }
    
        .progress-bar {
            transition: width 1s ease-in-out;
        }
        .animated-count {
            font-size: 1.25rem;
            font-weight: bold;
            color: #2c3e50;
        }
        .highlight {
            color: #1abc9c;
        }
    </style>
</head>
<body>
    <!-- Navbar Top -->
  <div class="navbar-top">
    <div class="logo">
        
      <img src="./KEAMO BABE blk.png">
    </div>
    <a href="./form.html"> <div class="profile-icon">Book!</div></a>

  </div>

  <div class="glass-container container mt-5">
    <h1 style="padding-top:40px;" class="text-center mb-4">Debt Payoff Calculator</h1>
   
    <img style="border-radius: 50px; margin-top: 8px;height:180px;width:180px;" src="./KEAMO BABE (1).png" alt="Logo">
   <br> <a href="./billsplit.html"> <div class="btn btn-primary">Bill Split Tool!</div></a>
    <!-- Input Form -->
    <form id="debtForm" class="mb-4">
      <div class="mb-3">
        <label for="amountOwed" class="form-label">Amount Owed (ZAR)</label>
        <input type="number" class="form-control" id="amountOwed" placeholder="Enter total debt" required>
      </div>
      <div class="mb-3">
        <label for="interestRate" class="form-label">Interest Rate (%)</label>
        <input type="number" class="form-control" id="interestRate" placeholder="Enter annual interest rate" required>
      </div>
      <div class="mb-3">
        <label for="term" class="form-label">Term Left (Years)</label>
        <input type="number" class="form-control" id="term" placeholder="Enter term left in years" required>
      </div>
      <button type="submit" class="btn btn-primary w-100">Calculate</button>
    </form>

    <!-- Ticker -->
    <div class="text-center mb-4">
      <p class="ticker">Debt Remaining: R<span id="debtRemaining">0</span></p>
      <p class="ticker">Total Paid: R<span id="totalPaid">0</span></p>
    </div>

    <!-- Pie Chart -->
    <div class="chart-container">
      <canvas id="debtChart"></canvas>
    </div>

    <!-- Installments Table -->
    <div style="padding-bottom: 50px;" class="table-container">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Month</th>
            <th>Installment Amount (ZAR)</th>
            <th>Principal Paid (ZAR)</th>
            <th>Interest Paid (ZAR)</th>
            <th>Remaining Balance (ZAR)</th>
          </tr>
        </thead>
        <tbody  id="installmentsTable">
        </tbody>
      </table>
    </div>
  </div>

  <div class="navbar-bottom">
    <a href="./Demo.html"><i class="fas fa-home"></i> Home</a>
    <a href="./Articles.html"><i class="fas fa-book"></i> Articles</a>
    <a href="./blank.html"><i class="fas fa-pen"></i> About</a>
    <a href="./form.html"><i class="fas fa-calendar"></i> Book</a>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script>
    const debtForm = document.getElementById('debtForm');
    const debtRemainingElem = document.getElementById('debtRemaining');
    const totalPaidElem = document.getElementById('totalPaid');
    const installmentsTable = document.getElementById('installmentsTable');
    const ctx = document.getElementById('debtChart').getContext('2d');
    let debtChart;

    debtForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const amountOwed = parseFloat(document.getElementById('amountOwed').value);
      const interestRate = parseFloat(document.getElementById('interestRate').value) / 100;
      const term = parseInt(document.getElementById('term').value);

      const monthlyRate = interestRate / 12;
      const months = term * 12;
      const monthlyPayment = (amountOwed * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -months));

      let remainingBalance = amountOwed;
      let totalPaid = 0;
      let totalPrincipal = 0;

      const data = [];
      installmentsTable.innerHTML = '';

      for (let i = 1; i <= months; i++) {
        const interestPayment = remainingBalance * monthlyRate;
        const principalPayment = monthlyPayment - interestPayment;
        totalPrincipal += principalPayment;
        totalPaid += monthlyPayment;
        remainingBalance -= principalPayment;

        data.push({
          month: i,
          installment: monthlyPayment.toFixed(2),
          principalPaid: principalPayment.toFixed(2),
          interestPaid: interestPayment.toFixed(2),
          remainingBalance: remainingBalance > 0 ? remainingBalance.toFixed(2) : 0,
        });

        installmentsTable.innerHTML += `
          <tr>
            <td>${i}</td>
            <td>${monthlyPayment.toFixed(2)}</td>
            <td>${principalPayment.toFixed(2)}</td>
            <td>${interestPayment.toFixed(2)}</td>
            <td>${remainingBalance > 0 ? remainingBalance.toFixed(2) : 0}</td>
          </tr>
        `;
      }

      // Animate numbers
      animateTicker(debtRemainingElem, amountOwed.toFixed(2), remainingBalance.toFixed(2));
      animateTicker(totalPaidElem, '0', totalPaid.toFixed(2));

      // Update Pie Chart
      updateChart(amountOwed, totalPaid, remainingBalance);
    });

    function animateTicker(element, from, to) {
      anime({
        targets: { value: parseFloat(from) },
        value: parseFloat(to),
        round: 1,
        easing: 'easeInOutQuad',
        duration: 2000,
        update: function (anim) {
          element.textContent = anim.animations[0].currentValue.toLocaleString();
        }
      });
    }

    function updateChart(totalDebt, totalPaid, remainingBalance) {
      const data = {
        labels: ['Remaining Debt', 'Total Paid'],
        datasets: [{
          data: [remainingBalance, totalPaid],
          backgroundColor: ['#ff6384', '#36a2eb'],
        }]
      };

      if (debtChart) {
        debtChart.destroy();
      }

      debtChart = new Chart(ctx, {
        type: 'pie',
        data: data,
      });
    }
  </script>
</body>
</html>
